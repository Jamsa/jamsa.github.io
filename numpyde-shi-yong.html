<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="author" content="Jamsa" />
        <meta name="robots" content="index, follow"/>

        <meta property="og:title" content="Numpy的使用"/>
        <meta property="og:url" content="./numpyde-shi-yong.html"/>
        <meta property="og:site_name" content="Jamsa的笔记"/>
        <meta property="og:type" content="article"/>

        <link rel="canonical" href="./numpyde-shi-yong.html" />

        <title>Numpy的使用 | Jamsa的笔记</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" />
        <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" />
        

        <link rel="stylesheet" type="text/css" href="./theme/css/main.css" />

        <script type="text/javascript">var switchTo5x=true;</script>
        <script type="text/javascript" src="http://w.sharethis.com/button/buttons.js"></script>
        <script type="text/javascript">
         stLight.options({
             publisher: "",
             doNotHash: false,
             doNotCopy: false,
             hashAddressBar: false
         });
        </script>
    </head>

    <body id="index">
        <div class="row-fluid">
            <div class="span10 offset1">
                <header id="banner" >
                    <h1>
                        <a href="./">Jamsa的笔记 </a>
                    </h1>
                    <nav class="navbar">
                        <div class="navbar-inner">
                            <ul class="nav">
                                <li ><a href="./category/da-shu-ju.html">大数据</a></li>
                                <li ><a href="./category/fang-fa.html">方法</a></li>
                                <li class="active"><a href="./category/ji-qi-xue-xi.html">机器学习</a></li>
                                <li ><a href="./category/kai-fa.html">开发</a></li>
                                <li ><a href="./category/qian-duan.html">前端</a></li>
                                <li ><a href="./category/xiao-lu.html">效率</a></li>
                                <li ><a href="./category/yi-dong.html">移动</a></li>
                            </ul>

                        </div>
                    </nav>
                </header><!-- /#banner -->
            </div>
        </div>

        <div class="row-fluid">
            <div class="span10 offset1">
                <div class="row-fluid">
<div class="span10 offset1">
  <section>
    <article>
      <header>
        <h1 class="entry-title">
          <a href="./numpyde-shi-yong.html" rel="bookmark"
             title="Permalink to Numpy的使用">Numpy的使用</a></h1>
      </header>
      <div class="entry-content">
<footer class="post-info">
    <address class="vcard author">
        by <a class="url fn" href="./author/jamsa.html">Jamsa</a>
    </address>

    in <a href="./category/ji-qi-xue-xi.html">机器学习</a>

    on 2018-02-21

        |
        tags:         <a href="./tag/python.html">python</a>
        <a href="./tag/machine-learn.html">machine learn</a>


        |
        <a href="./numpyde-shi-yong.html#disqus_thread">comments</a>

    
</footer><!-- /.post-info -->

        <div class="highlight"><pre><span></span><span class="c1">#numpy的使用</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
</pre></div>
<div class="highlight"><pre><span></span><span class="n">data1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span><span class="mf">7.5</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="n">arr1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data1</span><span class="p">)</span>
</pre></div>
<div class="highlight"><pre><span></span><span class="n">data2</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]]</span>
<span class="n">arr2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data2</span><span class="p">)</span>
</pre></div>
<div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="n">arr2</span><span class="o">.</span><span class="n">ndim</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">arr2</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">arr1</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">arr2</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
</pre></div>
<div class="highlight"><pre><span></span>2
(2, 4)
float64
int64
</pre></div>
<div class="highlight"><pre><span></span><span class="c1">#数组初始化</span>
<span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
<div class="highlight"><pre><span></span>array([ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.])
</pre></div>
<div class="highlight"><pre><span></span><span class="c1">#多维数组</span>
<span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
</pre></div>
<div class="highlight"><pre><span></span>array([[ 0.,  0.,  0.,  0.,  0.,  0.],
       [ 0.,  0.,  0.,  0.,  0.,  0.],
       [ 0.,  0.,  0.,  0.,  0.,  0.]])
</pre></div>
<div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
</pre></div>
<div class="highlight"><pre><span></span>array([[ 1.,  1.],
       [ 1.,  1.]])
</pre></div>
<div class="highlight"><pre><span></span><span class="c1">#empty返回的并非全零</span>
<span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
</pre></div>
<div class="highlight"><pre><span></span>array([[  0.00000000e+000,   2.32035477e+077,   2.14249175e-314],
       [  2.15324591e-314,   8.50045777e-096,   4.17201433e-309]])
</pre></div>
<div class="highlight"><pre><span></span><span class="c1">#与标量进行计算</span>
<span class="k">print</span><span class="p">(</span><span class="n">arr1</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">arr1</span><span class="o">**</span><span class="mf">0.5</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">arr1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">arr1</span><span class="p">)</span>
</pre></div>
<div class="highlight"><pre><span></span><span class="k">[ 6.   7.5  8.   0.   1. ]</span>
<span class="k">[ 2.44948974  2.73861279  2.82842712  0.          1.        ]</span>
<span class="k">[ 3.    3.75  4.    0.    0.5 ]</span>
<span class="k">[ 6.   7.5  8.   0.   1. ]</span>
</pre></div>
<div class="highlight"><pre><span></span><span class="c1">#取元素</span>
<span class="k">print</span><span class="p">(</span><span class="n">arr2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="k">print</span><span class="p">(</span><span class="n">arr2</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="k">print</span><span class="p">(</span><span class="n">arr2</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
<div class="highlight"><pre><span></span><span class="k">[5 6 7 8]</span>
<span class="na">7</span>
<span class="na">7</span>
</pre></div>
<div class="highlight"><pre><span></span><span class="c1">#修改元素</span>
<span class="k">print</span><span class="p">(</span><span class="n">arr2</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="n">old_value</span> <span class="o">=</span> <span class="n">arr2</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
<span class="n">arr2</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span><span class="o">=</span><span class="mi">10</span>
<span class="k">print</span><span class="p">(</span><span class="n">arr2</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">old_value</span><span class="p">)</span>
</pre></div>
<div class="highlight"><pre><span></span>7
[[ 1  2  3  4]
 [ 5  6 10  8]]
7
</pre></div>
<div class="highlight"><pre><span></span><span class="c1">#多轴切片</span>
<span class="k">print</span><span class="p">(</span><span class="n">arr2</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">arr2</span><span class="p">[:</span><span class="mi">1</span><span class="p">])</span>
<span class="k">print</span><span class="p">(</span><span class="n">arr2</span><span class="p">[:</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">:])</span>
</pre></div>
<div class="highlight"><pre><span></span><span class="k">[[ 1  2  3  4]</span>
 <span class="k">[ 5  6 10  8]]</span>
<span class="k">[[1 2 3 4]]</span>
<span class="k">[[3 4]]</span>
</pre></div>
<div class="highlight"><pre><span></span><span class="c1">#布尔索引</span>
<span class="n">names</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">'Bob'</span><span class="p">,</span><span class="s1">'Joe'</span><span class="p">,</span><span class="s1">'Will'</span><span class="p">,</span><span class="s1">'Bob'</span><span class="p">,</span><span class="s1">'Will'</span><span class="p">,</span><span class="s1">'Joe'</span><span class="p">,</span><span class="s1">'Joe'</span><span class="p">])</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span> <span class="c1">#正态分布随机数7行，行数与names的元素个数相同</span>
<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">mask</span> <span class="o">=</span> <span class="n">names</span> <span class="o">==</span> <span class="s1">'Bob'</span> <span class="c1">#布尔数组</span>
<span class="k">print</span><span class="p">(</span><span class="n">mask</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">mask</span><span class="p">])</span> <span class="c1">#利用布尔数组切片，取mask中为True的值所对应的行</span>
<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">names</span><span class="o">==</span><span class="s1">'Bob'</span><span class="p">,</span><span class="mi">2</span><span class="p">:])</span>
</pre></div>
<div class="highlight"><pre><span></span><span class="k">[[ 0.01189226 -0.09766365 -0.28287861  0.67107291]</span>
 <span class="k">[-0.90166172 -0.17293546  0.26721339 -0.16874216]</span>
 <span class="k">[ 1.12201125  0.98301059 -1.65128433  0.48168967]</span>
 <span class="k">[ 1.13573473  1.20286523  0.6301167   0.48295353]</span>
 <span class="k">[ 0.22856006  0.96182658 -1.43194442  0.00415171]</span>
 <span class="k">[ 1.0237387   0.22361819  1.23276475 -0.50240715]</span>
 <span class="k">[-0.22619522  1.32128889  0.44926209  0.71592239]]</span>
<span class="k">[ True False False  True False False False]</span>
<span class="k">[[ 0.01189226 -0.09766365 -0.28287861  0.67107291]</span>
 <span class="k">[ 1.13573473  1.20286523  0.6301167   0.48295353]]</span>
<span class="k">[[-0.28287861  0.67107291]</span>
 <span class="k">[ 0.6301167   0.48295353]]</span>
</pre></div>
<div class="highlight"><pre><span></span><span class="c1">#使用布尔条件过滤并设置值</span>
<span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
<div class="highlight"><pre><span></span><span class="k">[[ 0.02538029  0.86959398  0.          0.        ]</span>
 <span class="k">[ 0.          0.          0.          0.        ]</span>
 <span class="k">[ 0.99970368  0.          0.          1.23342   ]</span>
 <span class="k">[ 1.5112379   0.          0.2387815   0.        ]</span>
 <span class="k">[ 0.          0.0224426   0.          0.        ]</span>
 <span class="k">[ 0.61640087  0.          0.81184444  0.        ]</span>
 <span class="k">[ 0.          0.73155     0.          0.        ]]</span>
</pre></div>
<div class="highlight"><pre><span></span><span class="c1">#花式索引 Fancy indexing</span>
<span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">((</span><span class="mi">8</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">):</span>
    <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span>

<span class="k">print</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
</pre></div>
<div class="highlight"><pre><span></span><span class="k">[[ 0.  0.  0.  0.]</span>
 <span class="k">[ 1.  1.  1.  1.]</span>
 <span class="k">[ 2.  2.  2.  2.]</span>
 <span class="k">[ 3.  3.  3.  3.]</span>
 <span class="k">[ 4.  4.  4.  4.]</span>
 <span class="k">[ 5.  5.  5.  5.]</span>
 <span class="k">[ 6.  6.  6.  6.]</span>
 <span class="k">[ 7.  7.  7.  7.]]</span>
</pre></div>
<div class="highlight"><pre><span></span><span class="c1">#单数组花式索引</span>
<span class="k">print</span><span class="p">(</span><span class="n">arr</span><span class="p">[[</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span> <span class="c1">#花式索引</span>
<span class="k">print</span><span class="p">(</span><span class="n">arr</span><span class="p">[[</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="o">-</span><span class="mi">7</span><span class="p">]])</span> <span class="c1">#花式索引，负数</span>
</pre></div>
<div class="highlight"><pre><span></span><span class="k">[[ 4.  4.  4.  4.]</span>
 <span class="k">[ 3.  3.  3.  3.]</span>
 <span class="k">[ 0.  0.  0.  0.]</span>
 <span class="k">[ 6.  6.  6.  6.]]</span>
<span class="k">[[ 5.  5.  5.  5.]</span>
 <span class="k">[ 3.  3.  3.  3.]</span>
 <span class="k">[ 1.  1.  1.  1.]]</span>
<span class="k">[[ 0  1  2  3]</span>
 <span class="k">[ 4  5  6  7]</span>
 <span class="k">[ 8  9 10 11]</span>
 <span class="k">[12 13 14 15]</span>
 <span class="k">[16 17 18 19]</span>
 <span class="k">[20 21 22 23]</span>
 <span class="k">[24 25 26 27]</span>
 <span class="k">[28 29 30 31]]</span>
<span class="k">[ 4 23 29 10]</span>
</pre></div>
<div class="highlight"><pre><span></span><span class="c1">#多数组花式索引</span>
<span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">8</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">arr</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span> <span class="c1">#2行第1个，6行第8个，8行第2个，3行的3个</span>
</pre></div>
<div class="highlight"><pre><span></span><span class="k">[[ 0  1  2  3]</span>
 <span class="k">[ 4  5  6  7]</span>
 <span class="k">[ 8  9 10 11]</span>
 <span class="k">[12 13 14 15]</span>
 <span class="k">[16 17 18 19]</span>
 <span class="k">[20 21 22 23]</span>
 <span class="k">[24 25 26 27]</span>
 <span class="k">[28 29 30 31]]</span>
<span class="k">[ 4 23 29 10]</span>
</pre></div>

      </div><!-- /.entry-content -->
      <div class="comments">
        <h2>Comments</h2>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
          var disqus_identifier = "numpyde-shi-yong.html";
          (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//jamsa-github-io.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
        </script>
      </div>

    </article>
  </section>
</div>
                </div>
            </div>
        </div>

        <footer id="site-footer">
            <div class="row-fluid">
                <div class="span10 offset1">
                    <address>
                        <p>
                        This blog is proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                        </p>
                        <p>
                            <a href="http://github.com/jsliang/pelican-fresh/">Fresh</a> is a responsive theme designed by <a href="http://jsliang.com/">jsliang</a> and <a href="https://github.com/jsliang/pelican-fresh/graphs/contributors">contributors</a>.
                        Special thanks to <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a> and <a href="http://getbootstrap.com/">Twitter Bootstrap</a>.
                        </p>
                    </address>
                </div>
            </div>
        </footer>

<script type="text/javascript">
    var disqus_shortname = 'jamsa-github-io';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
        <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

        <link href="http://apps.bdimg.com/libs/highlight.js/9.1.0/styles/default.min.css" rel="stylesheet">
        <script src="http://apps.bdimg.com/libs/highlight.js/9.1.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
</body>
</html>