<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="author" content="Jamsa" />
        <meta name="robots" content="index, follow"/>

        <meta property="og:title" content="Jamsa的笔记"/>
        <meta property="og:url" content="."/>
        <meta property="og:site_name" content="Jamsa的笔记"/>
        <meta property="og:type" content="website"/>

        <link rel="canonical" href="." />

        <title>Jamsa的笔记</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" />
        <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" />
        

        <link rel="stylesheet" type="text/css" href="./theme/css/main.css" />

        <script type="text/javascript">var switchTo5x=true;</script>
        <script type="text/javascript" src="http://w.sharethis.com/button/buttons.js"></script>
        <script type="text/javascript">
         stLight.options({
             publisher: "",
             doNotHash: false,
             doNotCopy: false,
             hashAddressBar: false
         });
        </script>
    </head>

    <body id="index">
        <div class="row-fluid">
            <div class="span10 offset1">
                <header id="banner" >
                    <h1>
                        <a href="./">Jamsa的笔记 </a>
                    </h1>
                    <nav class="navbar">
                        <div class="navbar-inner">
                            <ul class="nav">
                                <li ><a href="./category/da-shu-ju.html">大数据</a></li>
                                <li ><a href="./category/fang-fa.html">方法</a></li>
                                <li ><a href="./category/ji-qi-xue-xi.html">机器学习</a></li>
                                <li ><a href="./category/kai-fa.html">开发</a></li>
                                <li ><a href="./category/qian-duan.html">前端</a></li>
                                <li ><a href="./category/xiao-lu.html">效率</a></li>
                                <li ><a href="./category/yi-dong.html">移动</a></li>
                            </ul>

                        </div>
                    </nav>
                </header><!-- /#banner -->
            </div>
        </div>

        <div class="row-fluid">
            <div class="span10 offset1">
                <div class="row-fluid">
<div class="span9">
                <section>
                    <ol id="posts-list" class="hfeed" start="9">
                    <li>
                        <article>
                            <header>
                                <h1 class="entry-title">
                                    <a href="./spring-cloud-shang-shou-7-pei-zhi-zhong-xin.html" rel="bookmark" title="Permalink to Spring Cloud 上手7-配置中心">
                                       Spring Cloud 上手7-配置中心
                                    </a>
                                </h1>
                            </header>
                            <div class="entry-content">
<footer class="post-info">
    <address class="vcard author">
        by <a class="url fn" href="./author/jamsa.html">Jamsa</a>
    </address>

    in <a href="./category/kai-fa.html">开发</a>

    on 2018-06-07

        |
        tags:         <a href="./tag/spring-cloud.html">spring cloud</a>


        |
        <a href="./spring-cloud-shang-shou-7-pei-zhi-zhong-xin.html#disqus_thread">comments</a>

    
</footer><!-- /.post-info -->                                <p>这是Spring Cloud上手系列的第七篇，代码放在<a href="https://github.com/Jamsa/sc-cloud">GitHub</a>上，随着本系列文章更新。</p>
<h1>概述</h1>
<p>通过Spring Cloud Config可以对各个系统的配置信息进行集中管理和维护。</p>
<p>Spring Cloud Config服务端读取git、svn或本地目录（包括classpath路径)中保存的配置信息。</p>
<p>将Spring Cloud Config服务作为Eureka客户端，则为Config Server提供高可用。Config Client程序可以通过Eureka获取Config Server的信息并读取配置。</p>
<h1>Spring Cloud Config Server配置</h1>
<h2>添加依赖</h2>
<p>Spring Config 服务相关的两个依赖是<code>org.springframework.cloud:spring-cloud-config-server</code>和<code>org.springframework.cloud:spring-cloud-config-client</code>，分别对应于配置服务的服务端和客户端。</p>
<p>我们先在根模块的<code>build.gradle</code>中添加程序库依赖。</p>
<div class="highlight"><pre><span></span><span class="c1">//依赖</span>
<span class="n">ext</span><span class="o">.</span><span class="na">libs</span> <span class="o">=</span> <span class="o">[</span>
        <span class="s2">"spring-cloud …</span></pre></div>
                                <p class="readmore">
                                    <a class="btn btn-small btn-info" href="./spring-cloud-shang-shou-7-pei-zhi-zhong-xin.html">Read more...</a>
                                </p>
                            </div><!-- /.entry-content -->
                            <hr/>
                        </article>
                    </li>
                    <li>
                        <article>
                            <header>
                                <h1 class="entry-title">
                                    <a href="./spring-cloud-shang-shou-6-fu-zai-jun-heng.html" rel="bookmark" title="Permalink to Spring Cloud 上手6-负载均衡">
                                       Spring Cloud 上手6-负载均衡
                                    </a>
                                </h1>
                            </header>
                            <div class="entry-content">
<footer class="post-info">
    <address class="vcard author">
        by <a class="url fn" href="./author/jamsa.html">Jamsa</a>
    </address>

    in <a href="./category/kai-fa.html">开发</a>

    on 2018-06-05

        |
        tags:         <a href="./tag/spring-cloud.html">spring cloud</a>


        |
        <a href="./spring-cloud-shang-shou-6-fu-zai-jun-heng.html#disqus_thread">comments</a>

    
</footer><!-- /.post-info -->                                <p>这是Spring Cloud上手系列的第六篇，代码放在<a href="https://github.com/Jamsa/sc-cloud">GitHub</a>上，随着本系列文章更新。</p>
<h1>Ribbon 概述</h1>
<p>Ribbon是一个客户端负载均衡器。Feign中使用到了Ribbon。Ribbon与Eureka结合使用时，Ribbon可以从Eureka注册中心中获取服务端列表。</p>
<h1>验证Feign中的负载均衡</h1>
<p>Feign包含了对Ribbon的支持，不需要编写额外的代码和配置。我们启动以下应用，来验证：</p>
<p>registry，运行在9001:</p>
<div class="highlight"><pre><span></span>java -jar registry/build/libs/sc-registry-0.0.1.jar
</pre></div>
<p>provider1，运行在9010:</p>
<div class="highlight"><pre><span></span>java -jar provider/service/build/libs/sc-provider-service-0.0.1.jar
</pre></div>
<p>provider2，运行在9012:</p>
<div class="highlight"><pre><span></span>java -Dserver.port=9012 -jar provider/service/build …</pre></div>
                                <p class="readmore">
                                    <a class="btn btn-small btn-info" href="./spring-cloud-shang-shou-6-fu-zai-jun-heng.html">Read more...</a>
                                </p>
                            </div><!-- /.entry-content -->
                            <hr/>
                        </article>
                    </li>
                    <li>
                        <article>
                            <header>
                                <h1 class="entry-title">
                                    <a href="./spring-cloud-shang-shou-5-fu-wu-wang-guan.html" rel="bookmark" title="Permalink to Spring Cloud 上手5-服务网关">
                                       Spring Cloud 上手5-服务网关
                                    </a>
                                </h1>
                            </header>
                            <div class="entry-content">
<footer class="post-info">
    <address class="vcard author">
        by <a class="url fn" href="./author/jamsa.html">Jamsa</a>
    </address>

    in <a href="./category/kai-fa.html">开发</a>

    on 2018-06-04

        |
        tags:         <a href="./tag/spring-cloud.html">spring cloud</a>


        |
        <a href="./spring-cloud-shang-shou-5-fu-wu-wang-guan.html#disqus_thread">comments</a>

    
</footer><!-- /.post-info -->                                <p>这是Spring Cloud上手系列的第五篇，代码放在<a href="https://github.com/Jamsa/sc-cloud">GitHub</a>上，随着本系列文章更新。</p>
<h1>ZUUL概述</h1>
<p>服务网关是微服务中向外部系统提供REST API过程中起服务路由、负载均衡的角色。也可将权限控制等功能放在服务网关上，为微服务提供保护。</p>
<p>SpringCloud Netflix中的Zuul承担了这样的功能。它可以作为Eureka客户端与Eureka集成，实现自动的服务路由。也可以通过配置文件来调整路由的策略，对内部服务提供保护。</p>
<p>使用Zuul的典型场景是这样的：</p>
<p><img alt="Zuul服务网关" src="./spring_cloud_tut/zuul.png"/></p>
<p>外部调用通过Zuul调用内部的REST服务，通常情况下内部并不会把所有服务都暴露给外部。上图中的<code>Sercie A/B provider</code>就只是供内部调用的，<code>consumer</code>供外部系统调用的服务。</p>
<h1>使用Zuul开发服务网关</h1>
<p>在我们的示例中服务网关放在<code>gateway</code>模块中。</p>
<h2>依赖配置</h2>
<p><code>gateway</code>模块的<code>build.gradle</code>:</p>
<div class="highlight"><pre><span></span><span class="n">dependencies</span> <span class="o">{</span>
    <span class="n">compile</span> <span class="n">libs</span><span class="o">.</span><span class="s1">'zuul'</span>
    <span class="n">compile</span> <span class="n">libs</span><span class="o">.</span><span class="s1">'eureka-client'</span>
<span class="o">}</span>

<span class="n">jar</span> <span class="o">{</span>
    <span class="n">manifest</span> <span class="o">{</span>
        <span class="n">attributes</span> <span class="s2">"Manifest-Version"</span><span class="o">:</span> <span class="mf">1 …</span></pre></div>
                                <p class="readmore">
                                    <a class="btn btn-small btn-info" href="./spring-cloud-shang-shou-5-fu-wu-wang-guan.html">Read more...</a>
                                </p>
                            </div><!-- /.entry-content -->
                            <hr/>
                        </article>
                    </li>
                    <li>
                        <article>
                            <header>
                                <h1 class="entry-title">
                                    <a href="./spring-cloud-shang-shou-4-fu-wu-xiao-fei-zhe.html" rel="bookmark" title="Permalink to Spring Cloud 上手4-服务消费者">
                                       Spring Cloud 上手4-服务消费者
                                    </a>
                                </h1>
                            </header>
                            <div class="entry-content">
<footer class="post-info">
    <address class="vcard author">
        by <a class="url fn" href="./author/jamsa.html">Jamsa</a>
    </address>

    in <a href="./category/kai-fa.html">开发</a>

    on 2018-06-03

        |
        tags:         <a href="./tag/spring-cloud.html">spring cloud</a>


        |
        <a href="./spring-cloud-shang-shou-4-fu-wu-xiao-fei-zhe.html#disqus_thread">comments</a>

    
</footer><!-- /.post-info -->                                <p>这是Spring Cloud上手系列的第四篇，代码放在<a href="https://github.com/Jamsa/sc-cloud">GitHub</a>上，随着本系列文章更新。</p>
<h1>版本依赖的坑</h1>
<p>在写前面几篇的时候都没感觉到SpringCloud的依赖关系处理必须使用<code>io.spring.dependency-management</code>来处理。在使用Feign进行服务消费时遇到很多错误：</p>
<ul>
<li>
<p>Feign服务客户端的Bean无法实例化</p>
</li>
<li>
<p>java.lang.NoClassDefFoundError: feign/Feign$Builder</p>
</li>
</ul>
<p>和其它很多错误。现在已经将<a href="./spring-cloud-shang-shou-1-zhun-bei.html">第一篇</a>中的构建依赖处理好。</p>
<h1>配置模块依赖</h1>
<p>在<code>consumer:service</code>工程的<code>build.gradle</code>中添加以下配置：</p>
<div class="highlight"><pre><span></span>dependencies {
    compile project(':provider:api')
    compile libs.'eureka-client'  //Eureka客户端
}

jar {
    manifest {
        attributes "Manifest-Version": 1.0,
                'Main-Class': 'com.github …</pre></div>
                                <p class="readmore">
                                    <a class="btn btn-small btn-info" href="./spring-cloud-shang-shou-4-fu-wu-xiao-fei-zhe.html">Read more...</a>
                                </p>
                            </div><!-- /.entry-content -->
                            <hr/>
                        </article>
                    </li>
                    <li>
                        <article>
                            <header>
                                <h1 class="entry-title">
                                    <a href="./spring-cloud-shang-shou-1-zhun-bei.html" rel="bookmark" title="Permalink to Spring Cloud 上手1-准备">
                                       Spring Cloud 上手1-准备
                                    </a>
                                </h1>
                            </header>
                            <div class="entry-content">
<footer class="post-info">
    <address class="vcard author">
        by <a class="url fn" href="./author/jamsa.html">Jamsa</a>
    </address>

    in <a href="./category/kai-fa.html">开发</a>

    on 2018-05-30

        |
        tags:         <a href="./tag/spring-cloud.html">spring cloud</a>


        |
        <a href="./spring-cloud-shang-shou-1-zhun-bei.html#disqus_thread">comments</a>

    
</footer><!-- /.post-info -->                                <h1>目标</h1>
<p>从15年开始我一直在使用Dubbo框架进行开发，少量在使用Spring Boot开发一些独立的App服务程序。Spring Cloud相关的文档资料看了不少，但&ldquo;纸上得来终觉浅，绝知此事要躬行&rdquo;。所以就有了做一个Spring Cloud Demo工程的想法，主要用来体验Spring Cloud的各种组件和功能。</p>
<p>代码放在<a href="https://github.com/Jamsa/sc-cloud">GitHub</a>上，随着本系列文章更新。</p>
<h1>规划</h1>
<p>先从最简单的Demo开始，使用SpringCloud的基础功能：Eureka、Zuul、Feign。后续再考虑添加Stream，Bus相关的内容。在工程数量较多，不好维护了，再考虑采用docker和minikube来进行管理。借用一句话&ldquo;好的架构就像眼镜，你会知道什么时候需要它&rdquo;。</p>
<p>工程目录规划如下：</p>
<div class="highlight"><pre><span></span>├── build.gradle
├── common
│&nbsp;&nbsp; ├── build.gradle
│&nbsp;&nbsp; └── src
│&nbsp;&nbsp;     └── main
├── provider
│&nbsp;&nbsp; ├── api
│&nbsp;&nbsp; │&nbsp;&nbsp; └── src
│&nbsp;&nbsp; └── service
│&nbsp;&nbsp;     ├── build.gradle
│&nbsp;&nbsp;     └── src
├── consumer
│&nbsp;&nbsp; ├── api
│&nbsp;&nbsp; │&nbsp;&nbsp; └── src …</pre></div>
                                <p class="readmore">
                                    <a class="btn btn-small btn-info" href="./spring-cloud-shang-shou-1-zhun-bei.html">Read more...</a>
                                </p>
                            </div><!-- /.entry-content -->
                            <hr/>
                        </article>
                    </li>
                    <li>
                        <article>
                            <header>
                                <h1 class="entry-title">
                                    <a href="./spring-cloud-shang-shou-2-fu-wu-zhu-ce.html" rel="bookmark" title="Permalink to Spring Cloud 上手2-服务注册">
                                       Spring Cloud 上手2-服务注册
                                    </a>
                                </h1>
                            </header>
                            <div class="entry-content">
<footer class="post-info">
    <address class="vcard author">
        by <a class="url fn" href="./author/jamsa.html">Jamsa</a>
    </address>

    in <a href="./category/kai-fa.html">开发</a>

    on 2018-05-30

        |
        tags:         <a href="./tag/spring-cloud.html">spring cloud</a>


        |
        <a href="./spring-cloud-shang-shou-2-fu-wu-zhu-ce.html#disqus_thread">comments</a>

    
</footer><!-- /.post-info -->                                <p>这是Spring Cloud上手系列的第二篇，代码放在<a href="https://github.com/Jamsa/sc-cloud">GitHub</a>上，随着本系列文章更新。</p>
<h1>服务治理框架</h1>
<p>Spring Cloud为服务治理提供了抽象接口，在Spring Cloud应用中可以支持多种不同的服务治理框架，如：Eureka、Consul、Zookeeper。</p>
<p>Spring Cloud Eureka是Spring Cloud Netflix项目提供的服务治理模块。Spring Cloud Netflix是Spring Cloud的子项目，Netflix公司贡献的模块都包含在这个子项目中，如：服务发现(Eureka)，熔断器（Hstrix），集合服务（Zuul），负载均衡（Ribbon)。</p>
<p>在我们的系列文章里就直接使用Netflix全家桶了。</p>
<h1>构建Eureka服务注册中心</h1>
<p>根据<a href="./spring-cloud-shang-shou-1-zhun-bei.html">前一篇文章</a>的规划，我们将在<code>registry</code>工程中构建服务注册中心。</p>
<h2>依赖配置</h2>
<p>首先在registry/build.gradle中配置注册中心的依赖。</p>
<div class="highlight"><pre><span></span><span class="n">dependencies</span> <span class="o">{</span>
    <span class="n">compile</span> <span class="n">libs</span><span class="o">.</span><span class="s1">'eureka-server' …</span></pre></div>
                                <p class="readmore">
                                    <a class="btn btn-small btn-info" href="./spring-cloud-shang-shou-2-fu-wu-zhu-ce.html">Read more...</a>
                                </p>
                            </div><!-- /.entry-content -->
                            <hr/>
                        </article>
                    </li>
                    <li>
                        <article>
                            <header>
                                <h1 class="entry-title">
                                    <a href="./spring-cloud-shang-shou-3-fu-wu-ti-gong-zhe.html" rel="bookmark" title="Permalink to Spring Cloud 上手3-服务提供者">
                                       Spring Cloud 上手3-服务提供者
                                    </a>
                                </h1>
                            </header>
                            <div class="entry-content">
<footer class="post-info">
    <address class="vcard author">
        by <a class="url fn" href="./author/jamsa.html">Jamsa</a>
    </address>

    in <a href="./category/kai-fa.html">开发</a>

    on 2018-05-30

        |
        tags:         <a href="./tag/spring-cloud.html">spring cloud</a>


        |
        <a href="./spring-cloud-shang-shou-3-fu-wu-ti-gong-zhe.html#disqus_thread">comments</a>

    
</footer><!-- /.post-info -->                                <p>这是Spring Cloud上手系列的第三篇，代码放在<a href="https://github.com/Jamsa/sc-cloud">GitHub</a>上，随着本系列文章更新。</p>
<h1>微服务下的代码共享</h1>
<p>对于微服务间是否需要进行代码共享，大家都有不同的看法。</p>
<p>虽然，实际的生产应用中，我个人是倾向于不共享代码的。这样可以避免代码上的强依赖，加快服务构建的速度。但是，在<a href="./spring-cloud-shang-shou-4-fu-wu-xiao-fei-zhe.html">下一篇</a>讲服务消费的时候将使用几种不同的方式来调用服务。在本系列文章的其它地方，为减少代码量，我们主要使用了api模块在服务提供方和消费方间进行代码共享。</p>
<p>Philipp Hauer的两篇文章可供参考</p>
<p><a href="https://blog.philipphauer.de/restful-api-design-best-practices/">RESTful API Design. Best Practices in a Nutshell</a></p>
<p><a href="https://blog.philipphauer.de/dont-share-libraries-among-microservices/">Don't Share Libraries among Microservices</a></p>
<h1>创建服务提供者</h1>
<p>我们在<code>provider</code>中创建一个服务，启动<code>provider-service</code>应用后，将在<code>Eureka</code>注册中心中看到它。</p>
<p>在<a href="./spring-cloud-shang-shou-1-zhun-bei.html">第一篇文章</a>提到过，<code>provider …</code></p>
                                <p class="readmore">
                                    <a class="btn btn-small btn-info" href="./spring-cloud-shang-shou-3-fu-wu-ti-gong-zhe.html">Read more...</a>
                                </p>
                            </div><!-- /.entry-content -->
                            <hr/>
                        </article>
                    </li>
                    <li>
                        <article>
                            <header>
                                <h1 class="entry-title">
                                    <a href="./emacs-zheng-ze-biao-da-shi-sou-suo-ti-huan-de-xiao-ji-qiao.html" rel="bookmark" title="Permalink to Emacs 正则表达式搜索替换的小技巧">
                                       Emacs 正则表达式搜索替换的小技巧
                                    </a>
                                </h1>
                            </header>
                            <div class="entry-content">
<footer class="post-info">
    <address class="vcard author">
        by <a class="url fn" href="./author/jamsa.html">Jamsa</a>
    </address>

    in <a href="./category/xiao-lu.html">效率</a>

    on 2018-05-23

        |
        tags:         <a href="./tag/emacs.html">emacs</a>


        |
        <a href="./emacs-zheng-ze-biao-da-shi-sou-suo-ti-huan-de-xiao-ji-qiao.html#disqus_thread">comments</a>

    
</footer><!-- /.post-info -->                                <ul>
<li>交互式的使用正则表达替换</li>
</ul>
<p>在Emacs中使用正则表达式替换时并不会像<code>isearch-forward-regexp</code>那么直观，无法查看到输入的正则表达式是否正确。之前我经常用<code>re-builder</code>进行表达式的测试，但是这样会打断当前的编辑工作。</p>
<p>经过验证发现可以使用<code>isearch-forward-regexp</code>代替<code>replace-regexp</code>，可以先用<code>isearch-forward-regexp</code>，它能交互式的验证所输入的表达式能否匹配，在匹配上第一个匹配位置时，输入<code>M-%</code>切换为<code>query-replace</code>模式，在输入要替换表达式后即可进行替换操作。</p>
<ul>
<li>正则表达式替换重复内容
以将行首<code>*</code>、<code>**</code>、<code>***</code>替换为同样数量的<code>#</code>为例：</li>
</ul>
<p>匹配表达式为：<code>^\(\*\)+</code></p>
<p>替换表达式为：<code>\, (concat "#" (replace-regexp-in-string "\*" "#" \&amp;))</code></p>
<p>替换表达式中的<code>\,</code>表示后面的内容为<code>elisp</code>表达式，<code>\&amp;</code>表示匹配表达式所匹配的所有内容，类似的还有<code>\n</code>,<code>n</code>为从 1 开始的数字，表示匹配上的分组内容。</p>
<ul>
<li>替换<code>^M</code>字符</li>
</ul>
<p>使用<code>M-%</code>调用<code>query-replace …</code></p>
                                <p class="readmore">
                                    <a class="btn btn-small btn-info" href="./emacs-zheng-ze-biao-da-shi-sou-suo-ti-huan-de-xiao-ji-qiao.html">Read more...</a>
                                </p>
                            </div><!-- /.entry-content -->
                            <hr/>
                        </article>
                    </li>
                    <li>
                        <article>
                            <header>
                                <h1 class="entry-title">
                                    <a href="./emacs-dired-tip.html" rel="bookmark" title="Permalink to Emacs Dired Tip">
                                       Emacs Dired Tip
                                    </a>
                                </h1>
                            </header>
                            <div class="entry-content">
<footer class="post-info">
    <address class="vcard author">
        by <a class="url fn" href="./author/jamsa.html">Jamsa</a>
    </address>

    in <a href="./category/xiao-lu.html">效率</a>

    on 2018-05-12

        |
        tags:         <a href="./tag/emacs.html">emacs</a>


        |
        <a href="./emacs-dired-tip.html#disqus_thread">comments</a>

    
</footer><!-- /.post-info -->                                <ul>
<li>批量mark文件</li>
</ul>
<p>在dired下 <code>% m regexp</code>可批量mark文件。</p>
<p>更多mark方式可参照<a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Marks-vs-Flags.html" target="_blank">手册</a>。</p>
<ul>
<li>批量替换文件内容</li>
</ul>
<p>对mark的文件可使用<code>dired-do-find-regexp-and-replace</code>做文件内容的批量替换。</p>
<ul>
<li>批量修改文件名</li>
</ul>
<p>在dired模式下可以<code>dired-toggle-readonly</code>切换为编辑模式，编辑模式下可以直接修改buffer中的文件名，使用<code>wdired-finish-edit (C-x C-s)</code>像保存文件一样，保存对文件名的修改。</p>
                                <p class="readmore">
                                    <a class="btn btn-small btn-info" href="./emacs-dired-tip.html">Read more...</a>
                                </p>
                            </div><!-- /.entry-content -->
                            <hr/>
                        </article>
                    </li>
                    <li>
                        <article>
                            <header>
                                <h1 class="entry-title">
                                    <a href="./git-tips.html" rel="bookmark" title="Permalink to Git Tips">
                                       Git Tips
                                    </a>
                                </h1>
                            </header>
                            <div class="entry-content">
<footer class="post-info">
    <address class="vcard author">
        by <a class="url fn" href="./author/jamsa.html">Jamsa</a>
    </address>

    in <a href="./category/kai-fa.html">开发</a>

    on 2018-05-12

        |
        tags:         <a href="./tag/git.html">git</a>


        |
        <a href="./git-tips.html#disqus_thread">comments</a>

    
</footer><!-- /.post-info -->                                <ul>
<li>强制本地回退至指定版本</li>
</ul>
<p><code>git reflog
 git reset --hard oxfb</code></p>
<ul>
<li>强制远程回退至指定版本</li>
</ul>
<p>先强制本地回退，然后强制推送。</p>
<p><code>git push -f</code></p>
                                <p class="readmore">
                                    <a class="btn btn-small btn-info" href="./git-tips.html">Read more...</a>
                                </p>
                            </div><!-- /.entry-content -->
                            <hr/>
                        </article>
                    </li>
                    </ol><!-- /#posts-list -->
<p class="paginator">
        <a href="./index.html">&laquo;</a>
    Page 2 / 10
        <a href="./index3.html">&raquo;</a>
</p>
                </section><!-- /#content -->
</div>
<div class="span3">
    <section id="sidebar">
            <div>
                <h2>Browse content by</h2>
                <ul class="fa-ul">
                <li><a href="./categories.html"><i class="fa-li fa fa-tags"></i> Categories</a></li>
                <li><a href="./archives.html"><i class="fa-li fa fa-calendar"></i> Dates</a></li>
                <li><a href="./tags.html"><i class="fa-li fa fa-tag"></i> Tags</a></li>

                </ul>
            </div><!-- /.browse -->
<!-- /.Tags -->
    </section><!-- /#sidebar -->
</div>
                </div>
            </div>
        </div>

        <footer id="site-footer">
            <div class="row-fluid">
                <div class="span10 offset1">
                    <address>
                        <p>
                        This blog is proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                        </p>
                        <p>
                            <a href="http://github.com/jsliang/pelican-fresh/">Fresh</a> is a responsive theme designed by <a href="http://jsliang.com/">jsliang</a> and <a href="https://github.com/jsliang/pelican-fresh/graphs/contributors">contributors</a>.
                        Special thanks to <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a> and <a href="http://getbootstrap.com/">Twitter Bootstrap</a>.
                        </p>
                    </address>
                </div>
            </div>
        </footer>

<script type="text/javascript">
    var disqus_shortname = 'jamsa-github-io';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
        <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

        <link href="http://apps.bdimg.com/libs/highlight.js/9.1.0/styles/default.min.css" rel="stylesheet">
        <script src="http://apps.bdimg.com/libs/highlight.js/9.1.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <script>
         var _hmt = _hmt || [];
         (function() {
           var hm = document.createElement("script");
           hm.src = "https://hm.baidu.com/hm.js?5e20e9cdd1185d24ece1dae11118a04f";
           var s = document.getElementsByTagName("script")[0]; 
           s.parentNode.insertBefore(hm, s);
         })();
        </script>
</body>
</html>